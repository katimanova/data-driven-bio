nextflow.enable.dsl = 2
docker.enabled = true

params {
    samples_csv = './samples.csv'
    outdir = './test_output/'
}

process {
    // Общие настройки для всех процессов
    executor = 'local'
    errorStrategy = 'retry'
    
    // Глобальные ресурсы по умолчанию
    cpus = 2
    memory = '4 GB'
    
    // Настройки контейнеров для процессов
    withName: FastQC {
        container = 'biocontainers/fastqc:v0.11.9_cv7'
    }
    withName: SPAdes {
        container = 'quay.io/biocontainers/spades:3.15.4--h95f258a_0'
        cpus = 4
        memory = '16 GB'
    }
    withName: QUAST {
        container = 'quay.io/biocontainers/quast:5.2.0--py39pl5321h4e691d4_3'
        memory = '8 GB'
    }
    withName: Prokka {
        container = 'staphb/prokka:1.14.6'
    }
    withName: Abricate {
        container = 'staphb/abricate:latest'
    }
}